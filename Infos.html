<!-- Add this container to display item details -->
<div id="infos-container"></div>
<script>
  function displayItemDetails() {
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    const ewebCouponApplied = localStorage.getItem('ewebCouponApplied');
    const ewebCouponTimestamp = localStorage.getItem('ewebCouponTimestamp');

    const infosContainer = document.getElementById('infos-container');
    infosContainer.innerHTML = ''; // Clear previous content

    cartItems.forEach((item) => {
      const itemDetails = document.createElement('div');
      itemDetails.innerHTML = `
        <p>ID: ${item.id}</p>
        <p>Item: ${item.name}</p>
        <p>Quantity: ${item.quantity}</p>
        <p>Price: ${item.price.toFixed(2)} Kr</p>
        <hr>
      `;
      infosContainer.appendChild(itemDetails);
    });

    // Check if the "eweb" coupon is applied and still valid
    if (ewebCouponApplied === 'true' && ewebCouponTimestamp) {
      const currentTimestamp = new Date().getTime();
      const expirationTime = 2 * 60 * 1000; // 2 minutes in milliseconds

      if (currentTimestamp - parseInt(ewebCouponTimestamp) < expirationTime) {
        // Coupon is still valid
        const couponDetails = document.createElement('div');
        couponDetails.innerHTML = `
          <p>Coupon Code: ${ewebCouponApplied}</p>
          <p>Discount: 25%</p>
          <hr>
        `;
        infosContainer.appendChild(couponDetails);
      } else {
        // Coupon has expired, remove coupon information
        localStorage.removeItem('ewebCouponApplied');
        localStorage.removeItem('ewebCouponTimestamp');
        alert('Coupon has expired and will be removed.');
      }
    }
  }

  // Call this function when the Infos.html page loads
  window.onload = displayItemDetails;
</script>
