<link rel="icon" type="image/x-icon" href="images/favicon.png">
<title>Quprint</title>
<div id="infos-container"></div>
<!-- Existing script ... -->
<!-- Existing script ... -->

<script>
  let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

  function displayItemDetails() {
    const ewebCouponApplied = localStorage.getItem('ewebCouponApplied');

    const infosContainer = document.getElementById('infos-container');
    infosContainer.innerHTML = ''; // Clear previous content

    cartItems.forEach((item) => {
      const itemDetails = document.createElement('div');
      itemDetails.innerHTML = `
        <p>ID: ${item.id}</p>
        <p>Item: ${item.name}</p>
        <p>Quantity: ${item.quantity}</p>
        <p>Price: ${item.price.toFixed(2)} Kr</p>
        <hr>
      `;
      infosContainer.appendChild(itemDetails);
    });

    // Display coupon information only if "eweb" coupon applied
    if (ewebCouponApplied === 'true') {
      const couponDetails = document.createElement('div');
      couponDetails.innerHTML = `
        <p>Coupon Code: The form</p>
        <p>Discount: 25%</p>
        <hr>
      `;
      infosContainer.appendChild(couponDetails);
    }

    // Remove the coupon when there is a change in the cart
    updateCouponStatus();
  }

  // Call this function when the Infos.html page loads
  window.onload = displayItemDetails;

  // Existing window.onload and other script...

  function updateCouponStatus() {
    const ewebCouponApplied = localStorage.getItem('ewebCouponApplied');
    if (cartItems.length === 0 && ewebCouponApplied === 'true') {
      localStorage.removeItem('ewebCouponApplied');
    }
  }

  // Listen for changes in localStorage (cartItems)
  window.addEventListener('storage', function (e) {
    if (e.key === 'cartItems') {
      cartItems = JSON.parse(e.newValue) || [];
      displayItemDetails();
    }
  });
</script>

<!-- Existing script ... -->


<!-- Existing script ... -->
